// Generated automatically by microgen: do not edit manually

digraph G {
    graph [compound=true, rankdir=LR, ranksep="1.0"];

	subgraph clusterproxy {
        label="Proxy";
        "UI";
        "Proxy";
    }

// services

	subgraph clustertour {
		
		label="Tour-service";
		// events
		
		
			 
				"TourCreateTour"  [label="CreateTour\ncommand-handler", shape=box];
			
		
			 
				"TourCreateCyclist"  [label="CreateCyclist\ncommand-handler", shape=box];
			
		
			 
				"TourCreateEtappe"  [label="CreateEtappe\ncommand-handler", shape=box];
			
		
			
			    "TourGetTour"  [label="GetTour\nquery-handler"];
			
		
		TourStore [shape=box, style=filled];
	}

	subgraph clustergambler {
		
		label="Gambler-service";
		// events
		
			"GamblerTourCreated" [label="TourCreated\neventhandler", shape=diamond];
		
			"GamblerCyclistCreated" [label="CyclistCreated\neventhandler", shape=diamond];
		
		
			 
				"GamblerCreateGambler"  [label="CreateGambler\ncommand-handler", shape=box];
			
		
			 
				"GamblerCreateGamblerTeam"  [label="CreateGamblerTeam\ncommand-handler", shape=box];
			
		
			
			    "GamblerGetGambler"  [label="GetGambler\nquery-handler"];
			
		
		GamblerStore [shape=box, style=filled];
	}

	subgraph clusterresults {
		
		label="Results-service";
		// events
		
			"ResultsGamblerCreated" [label="GamblerCreated\neventhandler", shape=diamond];
		
			"ResultsGamblerTeamCreated" [label="GamblerTeamCreated\neventhandler", shape=diamond];
		
			"ResultsTourCreated" [label="TourCreated\neventhandler", shape=diamond];
		
			"ResultsEtappeCreated" [label="EtappeCreated\neventhandler", shape=diamond];
		
			"ResultsCyclistCreated" [label="CyclistCreated\neventhandler", shape=diamond];
		
		
			 
				"ResultsCreateDayResults"  [label="CreateDayResults\ncommand-handler", shape=box];
			
		
			
			    "ResultsGetResults"  [label="GetResults\nquery-handler"];
			
		
		ResultsStore [shape=box, style=filled];
	}


	// edges
	"Browser\nApp" -> "UI" [label="html/css/javascript/HTTP",arrowhead=crow];
	"Browser\nApp" -> "Proxy" [label="json/HTTP",arrowhead=crow];
	

	"Proxy" -> "TourCreateTour" [label="json/HTTP", lhead=clustertour, arrowhead=crow];

	"Proxy" -> "GamblerCreateGambler" [label="json/HTTP", lhead=clustergambler, arrowhead=crow];

	"Proxy" -> "ResultsCreateDayResults" [label="json/HTTP", lhead=clusterresults, arrowhead=crow];


	"TourCreateTour" -> "GamblerTourCreated" [label="TourCreated-event", style=dashed]
	"TourCreateTour" -> "ResultsTourCreated" [label="TourCreated-event", style=dashed]
	"TourCreateCyclist" -> "GamblerCyclistCreated" [label="CyclistCreated-event", style=dashed]
	"TourCreateCyclist" -> "ResultsCyclistCreated" [label="CyclistCreated-event", style=dashed]
	"TourCreateEtappe" -> "ResultsEtappeCreated" [label="EtappeCreated-event", style=dashed]
	"GamblerCreateGambler" -> "ResultsGamblerCreated" [label="GamblerCreated-event", style=dashed]
	"GamblerCreateGamblerTeam" -> "ResultsGamblerTeamCreated" [label="GamblerTeamCreated-event", style=dashed]


}